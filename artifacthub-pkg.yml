---
version: 0.2.2
name: safe-annotations
displayName: Safe Annotations
createdAt: '2023-01-19T15:46:21+02:00'
description: A policy that validates Kubernetes' resource annotations
license: Apache-2.0
homeURL: https://github.com/kubewarden/safe-annotations-policy
containersImages:
- name: policy
  image: ghcr.io/kubewarden/policies/safe-annotations:v0.2.2
keywords:
- annotations
links:
- name: policy
  url: https://github.com/kubewarden/safe-annotations-policy/releases/download/v0.2.2/policy.wasm
- name: source
  url: https://github.com/kubewarden/safe-annotations-policy
provider:
  name: kubewarden
recommendations:
- url: https://artifacthub.io/packages/helm/kubewarden/kubewarden-controller
annotations:
  kubewarden/resources: "*"
  kubewarden/mutation: false
  kubewarden/contextAware: false
  kubewarden/rules: |
    rules:
    - apiGroups: ["*"]
      apiVersions: ["*"]
      resources: ["*"]
      operations: ["CREATE", "UPDATE"]
  kubewarden/questions-ui: |
    questions:
    - default: null
      description: >-
        This policy validates the annotations of generic Kubernetes objects. It
        rejects all the resources that use one or more annotations on the deny list.
        It also allows you to put constraints on specific annotations. The
        constraints are expressed as regular expression.
      group: Settings
      label: Description
      required: false
      hide_input: true
      type: string
      variable: description
    - default: []
      tooltip: A list of annotations that cannot be used
      group: Settings
      label: Denied annotations
      required: false
      type: array[
      variable: denied_annotations
    - default: []
      tooltip: Annotations that are validated with user-defined RegExp
      group: Settings
      label: Constrained annotations
      target: true
      type: map[
      variable: constrained_annotations
